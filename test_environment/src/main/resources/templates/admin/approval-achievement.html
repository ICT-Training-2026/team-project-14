<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>実績承認</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" th:href="@{/css/common.css}">
</head>
<body>
<header class="taskbar">
    <div class="taskbar-left">
        <span class="taskbar-logo">
			<a th:href="@{/admin}" class="taskbar-home-link"
								style="display:flex;align-items:center;text-decoration:none;color:inherit;">
								<span class="taskbar-logo">
									<svg width="28" height="28" viewBox="0 0 28 28" fill="none">
										<circle cx="14" cy="14" r="14" fill="#fff" opacity="0.18" />
										<rect x="7" y="7" width="14" height="14" rx="4" fill="#fff" opacity="0.9" />
										<rect x="10" y="10" width="8" height="8" rx="2" fill="#1565c0" />
									</svg>
								</span>
								<span class="taskbar-title" style="margin-left:12px;">管理者ホーム</span>
							</a>
        <nav class="taskbar-tabs">
            <a th:href="@{/admin/User-management}" class="taskbar-tab">ユーザー管理</a>
            <a th:href="@{/admin/achievement}" class="taskbar-tab">実績</a>
            <a th:href="@{/admin/approval-correction}" th:classappend="'active'" class="taskbar-tab">承認・訂正依頼</a>
            <a th:href="@{/admin/company-info}" class="taskbar-tab">会社情報</a>
        </nav>
    </div>
    <div class="taskbar-right">
        <form th:action="@{/logout}" method="post" style="margin:0;">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
            <button type="submit" class="taskbar-logout">ログアウト</button>
        </form>
    </div>
</header>
<main>
    <div class="page-title">実績承認</div>
    <div class="page-desc">ここで実績承認・訂正依頼が行えます。</div>


     <div class="database-container">
    <table class="performance-database">
        <thead>
        <tr>
            <th>社員名</th>
            <th>社員番号</th>
            <th>日付</th>
            <th>曜日</th>
            <th>出勤時間</th>
            <th>退勤時間</th>
            <th>休憩時間(h)</th>
            <th>出社区分</th>
            <th>事由</th>
            <th>訂正理由</th>
            <th>差異理由</th>
            <th>承認・訂正</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="performance : ${submitPerformance}" class="performance-row" >
            <td><input type="text" th:value="${performance.name}" class="performance-name-input" disabled /></td>
            <td><input type="text" th:value="${performance.employId}" class="performance-employId-input" disabled /></td>
            <td>
            <input type="date" th:value="${performance.date}" class="performance-date-input" disabled />
            <input type="hidden" th:name="date" th:value="${performance.date}"  class="performance-date-input"/>
            </td>
            <td>
            <input type="text" th:value="${performance.dayOfWeek}" class="performance-dayofweek-input" disabled />
            </td>
            <td><input type="time" th:value="${performance.startTime}" class="performance-start-input"  /></td>
            <td><input type="time" th:value="${performance.endTime}" class="performance-end-input" /></td>
            <td><input type="text" th:value="${performance.breakTime}" class="performance-break-input" /></td>
            <!-- disabledを外してボタン有効化 -->
            <td>
                <select class="work-select" >
                <option value=0 th:selected="${performance.atClassification == 0}">出勤</option>
                <option value=1 th:selected="${performance.atClassification == 1}">休日</option>
                <option value=2 th:selected="${performance.atClassification == 2}">年休申請中</option>
                <option value=3 th:selected="${performance.atClassification == 3}">振出申請中</option>
                <option value=4 th:selected="${performance.atClassification == 4}">振休</option>
                <option value=5 th:selected="${performance.atClassification == 5}">振出</option>
    　　　      <option value=6 th:selected="${performance.atClassification == 6}">年休</option>
                <option value=7 th:selected="${performance.atClassification == 7}">欠勤</option>
                <option value=8 th:selected="${performance.atClassification == 8}">振休申請中</option>
                </select>
                <input type="hidden" th:name="status" th:value="${performance.status}" />
          </td>
            <!-- 事由の入力欄を条件付きでdisabledにする -->
            <td>
            <input type="text" th:value="${performance.reason}" class="performance-reason-input"
                    disabled />
            </td>

            <td>
            <input type="text" th:value="${performance.correctReason}" class="performance-correctReason-input"
                />
            </td>

            <td>
            <input type="text" th:value="${performance.diffReason}" class="performance-diffReason-input"
                   disabled />
            </td>

            <td>
                <select class="approval-select" >
                <option value=0 >承認</option>
                <option value=1 >訂正</option>
                </select>
          </td>
        </tr>
        </tbody>
    </table>
    </div>


    <a th:href="@{/admin}" class="back-link">← 管理者トップに戻る</a>
</main>
<script th:src="@{/js/adminperformance.js}"></script>/
</body>
</html>