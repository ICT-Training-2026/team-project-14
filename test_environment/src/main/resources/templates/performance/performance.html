<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>トップ画面</title>
    <meta name="_csrf" th:content="${_csrf.token}" />
    <meta name="_csrf_header" th:content="${_csrf.headerName}" />
  </head>
  <body class="performance-body">
    <div id="month-nav" style="display: flex; align-items: center; padding: 10px 0 10px 10px">
      <button id="prev-month">&lt;&lt;</button>
      <span id="current-year-month" style="margin: 0 15px; font-size: 1.2em">2025/07</span>
      <button id="next-month">&gt;&gt;</button>
    </div>
    <div class="database-container">
      <table class="performance-database">
        <tr>
          <th>日付</th>
          <th>曜日</th>
          <th>出勤時間</th>
          <th>退勤時間</th>
          <th>休憩時間(h)</th>
          <th>申請</th>
          <th>状況</th>
          <th>事由</th>
          <th>再申請</th>
          <th>取消</th>
          <!-- 他のカラムも必要に応じて -->
        </tr>
        <tr th:each="performance : ${performances}" class="performance-row" th:data-id="${performance.id}">
          <td>
            <input type="date" th:value="${performance.date}" class="performance-date-input" disabled />
            <input type="hidden" th:name="date" th:value="${performance.date}" />
          </td>
          <td><input type="text" th:value="${performance.dayOfWeek}" class="performance-dayofweek-input" /></td>
          <td><input type="time" th:value="${performance.startTime}" class="performance-start-input" /></td>
          <td><input type="time" th:value="${performance.endTime}" class="performance-end-input" /></td>
          <td><input type="text" th:value="${performance.breakTime}" class="performance-break-input" /></td>
          <td><input type="button" value="申請" class="submit-button" /></td>
          <td>
            <select class="status-select">
              <option value="未申請" th:selected="${performance.status == '未申請'}">未申請</option>
              <option value="申請済み" th:selected="${performance.status == '申請済み'}">申請済み</option>
              <option value="確定済み" th:selected="${performance.status == '確定済み'}">確定済み</option>
              <option value="差し戻し" th:selected="${performance.status == '差し戻し'}">差し戻し</option>
            </select>
          </td>
          <td><input type="text" th:value="${performance.reason}" class="performance-reason-input" /></td>
          <td><input type="button" value="再申請" class="resubmit-button" /></td>
          <td><input type="button" value="取消" class="remove-button" /></td>
          <!-- 他のカラムも必要に応じて -->
        </tr>
      </table>
    </div>
    <script th:src="@{/js/performance.js}"></script>
    <script th:inline="javascript">
      const employeeId = [[${employeeId}]];
    </script>
  </body>
</html>
